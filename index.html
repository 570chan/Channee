<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- ... (meta v√† link gi·ªØ nguy√™n) ... -->
    <title>neChannee!</title>

    <!--  Open Graph / Discord Embed Meta -->
    <meta property="og:title" content="neChannene! " />
    <meta property="og:description" content="where i sleep at nightüåô" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://channee.vercel.app" />
    <meta property="og:image" content="https://s3.tebi.io/ely.bucket.s0.io.biti/downloaded-file.png.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Optional: Th√™m Twitter card (Discord c≈©ng ƒë·ªçc ƒë∆∞·ª£c) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="neChannee! " />
    <meta name="twitter:description" content="Join our cozy Discord ‚Äî where I take a nap and vibe with friends üåô" />
    <meta name="twitter:image" content="https://s3.tebi.io/ely.bucket.s0.io.biti/downloaded-file.png.jpg" />

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Knewave&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* ========= Base ========= */
      body {
        font-family: 'Inter', sans-serif;
        background-color: #f8fafc;
        color: #1e293b;
        overflow-x: hidden;
      }

      /* Title style (kept but not used if no element) */
      .knewave-regular {
        font-family: "Knewave", system-ui, cursive;
        font-weight: 400;
        font-style: normal;
      }

      /* ========= Glass card & profile ========= */
      .glass-card {
        background: transparent;
        border: 2px solid #fff;
        border-radius: 16px;
        box-shadow: 0 0 32px rgba(255, 255, 255, 0.25);
        transition: box-shadow 0.3s ease, transform 0.3s ease;
      }

      .profile-pic {
        transition: transform 0.3s cubic-bezier(.4, 0, .2, 1);
        box-shadow: 0 2px 18px 0 rgba(0, 0, 0, 0.13);
      }

      .profile-pic:hover {
        transform: scale(1.05);
      }

      .link-card {
        transition: all 0.3s cubic-bezier(.4, 0, .2, 1);
        background: rgba(255, 255, 255, 0.25);
      }

      .link-card:hover {
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.14);
      }

      /* Fade-in animation */
      .fade-in {
        opacity: 0;
        animation: fadeIn 1.2s cubic-bezier(.42, 0, .58, 1) forwards;
      }

      @keyframes fadeIn {
        0% {
          opacity: 0;
          transform: translateY(48px);
        }

        80% {
          opacity: 1;
        }

        100% {
          opacity: 1;
          transform: none;
        }
      }

      .drop-shadow-text {
        text-shadow: 0 2px 12px rgba(0, 0, 0, 0.32), 0 2px 2px rgba(0, 0, 0, 0.17);
      }

      /* Background video */
      .bg-video {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        z-index: -1;
        min-width: 100%;
        min-height: 100%;
        opacity: 1.0;
        pointer-events: none;
      }

      /* Fullscreen button */
      .fullscreen-icon-wrap {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        min-width: 24px;
        min-height: 24px;
        border-radius: 8px;
        transition: background 0.18s;
      }

      .fullscreen-icon-wrap:hover {
        background: rgba(16, 185, 129, 0.13);
      }

      /* Reading list / fullscreen box */
      #reading-list-box {
        position: fixed;
        left: 12px;
        bottom: 12px;
        width: 48px;
        height: 48px;
        border-radius: 8px;
        z-index: 9999;
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.18);
        border: 1px solid #ccc;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.2s ease;
        padding: 0;
      }

      #reading-list-box:hover {
        background: rgba(200, 255, 200, 0.85);
      }

      /* ========= Timer styles ========= */
      .timer-hidden {
        display: none !important;
      }

      #timer-container {
        width: 100%;
        box-sizing: border-box;
      }

      #timer-display {
        font-variant-numeric: tabular-nums;
        letter-spacing: 1px;
        text-align: center;
      }

      .timer-controls {
        display: flex;
        gap: 12px;
        justify-content: center;
        align-items: center;
        margin-top: 16px;
      }

      .timer-controls button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.6);
        background: rgba(255, 255, 255, 0.06);
        color: inherit;
        cursor: pointer;
        transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      }

      .timer-controls button:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
      }

      .timer-controls .btn-primary {
        background: rgba(70, 104, 250, 0.95);
        color: #fff;
        border-color: rgba(70, 104, 250, 0.95);
      }

      .timer-controls .btn-muted {
        background: rgba(255, 255, 255, 0.06);
        color: #F0FFF0;
        border: 1px solid rgba(255, 255, 255, 0.4);
      }

      #timer-display,
      .timer-controls button {
        color: #F0FFF0;
      }

      @media (max-width: 420px) {
        #timer-display {
          font-size: 2.25rem;
        }

        .timer-controls button {
          padding: 8px 10px;
          gap: 6px;
        }
      }

      .timer-transition {
        transition: all 0.5s ease;
        will-change: opacity, transform, filter;
      }

      .timer-show {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
      }

      .timer-hide {
        opacity: 0;
        transform: scale(0.96);
        filter: blur(6px);
      }

      /* hint arrow */
      .hint-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 2.2rem;
        color: rgba(255, 255, 255, 0.85);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease;
        z-index: 50;
        text-shadow: 0 0 12px rgba(255, 255, 255, 0.5);
      }

      .hint-arrow.show {
        opacity: 1;
      }

      #arrow-left {
        left: 12%;
      }

      #arrow-right {
        right: 12%;
      }

      @media (max-width: 640px) {
        #arrow-left {
          left: 4%;
        }

        #arrow-right {
          right: 4%;
        }
      }

      /* align timer container */
      #timer-container {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 2rem 1rem;
        box-sizing: border-box;
      }
    </style>
  </head>

  <body class="min-h-screen flex flex-col items-center justify-center px-4 py-8 relative overflow-x-hidden">
    <!-- Background Video -->
    <video class="bg-video" autoplay loop muted playsinline>
      <source src="https://s3.tebi.io/ely.bucket.s0.io.biti/TikTok%20-%20Make%20Your%20Day.mp4" type="video/mp4" />
      <img src="https://s3.tebi.io/ely.bucket.s0.io.biti/downloaded-file.png.jpg" alt="background" />
    </video>

    <div class="max-w-md w-full mx-auto fade-in">
      <!-- PROFILE CARD -->
      <div class="glass-card p-8 mb-8 text-center">
        <div class="flex justify-center mb-6">
          <img
            src="https://s3.tebi.io/ely.bucket.s0.io.biti/282097915f9d08ecbe8b367d00ac7a22.jpg"
            alt="Profile"
            class="profile-pic w-24 h-24 rounded-full object-cover shadow-lg"
          />
        </div>

        <h1 class="text-2xl font-bold text-black mb-1 drop-shadow-text knewave-regular">
          Channee
        </h1>
        <p class="text-gray-600 mb-6 drop-shadow-text">I don't even remember who I am...</p>

        <!-- CLOCK -->
        <div class="clock-container mb-8">
          <div id="time" class="text-5xl font-light text-[#F0FFF0] drop-shadow-text"></div>
          <div id="date" class="text-sm text-gray-100 drop-shadow-text mt-2"></div>
        </div>

        <!-- SOCIAL LINKS -->
        <div class="flex justify-center space-x-4">
          <a href="https://github.com/570chan" target="_blank" class="text-white hover:text-indigo-500 transition-colors" rel="noopener noreferrer">
            <i data-feather="github"></i>
          </a>
          <a href="https://www.facebook.com/profile.php?id=61581606718917" target="_blank" class="text-white hover:text-pink-500 transition-colors" rel="noopener noreferrer">
            <i data-feather="facebook"></i>
          </a>
          <a href="https://linkedin.com/in/your-profile" target="_blank" class="text-white hover:text-orange-400 transition-colors" rel="noopener noreferrer">
            <i data-feather="linkedin"></i>
          </a>
        </div>

        <!-- TIMER CONTAINER -->
        <div id="timer-container" class="timer-hidden mt-2">
          <p class="text-sm text-gray-200 mb-2 opacity-80 tracking-wide">‚è≥ Countdown Timer ‚Äî 30 ph√∫t th∆∞ gi√£n</p>
          <div id="timer-display" class="text-5xl font-light">30:00</div>

          <div class="timer-controls">
            <button id="start-pause-btn" class="btn-muted" title="Start / Pause">
              <i data-feather="play"></i>
              <span class="sr-only">Start / Pause</span>
            </button>
            <button id="reset-btn" class="btn-muted" title="Reset">
              <i data-feather="refresh-cw"></i>
              <span class="sr-only">Reset</span>
            </button>
          </div>
        </div>

        <!-- M≈®I T√äN G·ª¢I √ù -->
        <div id="arrow-left" class="hint-arrow">‚Üê</div>
        <div id="arrow-right" class="hint-arrow">‚Üí</div>
      </div>

      <!-- DISCORD BOX -->
      <div class="space-y-4">
        <a
          href="#"
          class="block link-card glass-card p-2 rounded-lg hover:shadow-md transition-all"
        >
          <div class="flex items-center">
            <div class="mr-4 flex items-center"></div>
            <div>
              <h3 class="font-medium text-gray-800 drop-shadow-text">Unknown</h3>
              <p class="text-sm text-gray-500 drop-shadow-text">where i take a nap</p>
            </div>
          </div>
          <ul class="mt-3 space-y-1 text-sm text-gray-700">
            <li>‚Ä¢ <b>air</b> _.570chan</li>
          </ul>
        </a>
      </div>
    </div>

    <!-- FULLSCREEN BUTTON -->
    <div id="reading-list-box" tabindex="0" class="glass-card" style="outline: none;">
      <span class="fullscreen-icon-wrap" id="reading-fullscreen-trigger" title="Toggle fullscreen" aria-label="Toggle fullscreen">
        <svg id="fullscreen-enter" xmlns="http://www.w3.org/2000/svg" class="fullscreen-svg text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4h4M20 8V4h-4M4 16v4h4M20 16v4h-4" />
        </svg>

        <svg id="fullscreen-exit" xmlns="http://www.w3.org/2000/svg" class="fullscreen-svg text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20" style="display: none;">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H4v-4M16 16h4v-4M8 8H4V4M16 8h4V4" />
        </svg>
      </span>
    </div>

    <!-- AUDIO: ƒë·∫∑t th·∫ª audio trong HTML theo y√™u c·∫ßu -->
    <audio id="bg-music" preload="auto" crossorigin="anonymous">
      <source src="https://s3.tebi.io/ely.bucket.s0.io.biti/Hoaprox%2C%20Dang%20Minh%20-%20PHAN%20DUYEN%20%28Destiny%29%20%20Future%20Bass%20%20NCS%20-%20Copyright%20Free%20Music%20-%20NoCopyrightSounds.mp3" type="audio/mpeg" />
    </audio>

    <script src="https://unpkg.com/feather-icons"></script>
    <script>
      (function () {
        /* ========= Utilities & DOM ========= */
        const $ = (sel, ctx = document) => ctx.querySelector(sel);
        const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));

        /* ========= Clock (time + date) ========= */
        function updateClock() {
          const now = new Date();
          const optionsTime = {
            timeZone: 'Asia/Ho_Chi_Minh',
            hour12: false,
            hour: '2-digit',
            minute: '2-digit'
          };
          const timeStr = now.toLocaleTimeString('en-US', optionsTime); // "HH:MM:SS" or "HH:MM"
          const [hours, minutes] = timeStr.split(':');
          const optionsDate = {
            timeZone: 'Asia/Ho_Chi_Minh',
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          };
          const dateStr = now.toLocaleDateString('en-US', optionsDate);
          const parts = dateStr.split(', ');
          const dayName = parts[0] || '';
          const monthDayYear = parts.slice(1).join(', ') || '';
          $('#time').textContent = `${hours}:${minutes}`;
          $('#date').textContent = `${dayName}, ${monthDayYear}`;
        }

        updateClock();
        setInterval(updateClock, 1000);

        /* ========= Feather icons initial ========= */
        feather.replace();

        /* ========= DOMContentLoaded: unify tasks ========= */
        document.addEventListener('DOMContentLoaded', () => {
          // ensure icons rendered
          feather.replace();

          // fade-in: already has class fade-in on container; ensure it will animate
          $$('.fade-in').forEach(el => {
            // class is present; animation will run
          });

          // Discord box click (only if discord link present)
          const discordBox = document.querySelector('.link-card[href*="discord.gg"]');
          if (discordBox) {
            discordBox.addEventListener('click', (e) => {
              e.preventDefault();
              discordBox.style.transform = 'scale(0.98)';
              setTimeout(() => {
                window.open(discordBox.href, '_blank', 'noopener');
                discordBox.style.transform = '';
              }, 1000);
            });
          }
        });

        /* ========= Fullscreen Toggle ========= */
        (function () {
          const readingListBox = document.getElementById('reading-list-box');
          const fullscreenEnter = document.getElementById('fullscreen-enter');
          const fullscreenExit = document.getElementById('fullscreen-exit');
          let isFullscreen = false;

          function showEnterIcon() {
            fullscreenEnter.style.display = '';
            fullscreenExit.style.display = 'none';
          }

          function showExitIcon() {
            fullscreenEnter.style.display = 'none';
            fullscreenExit.style.display = '';
          }

          function enterFullscreen() {
            if (isFullscreen) return;
            isFullscreen = true;
            if (document.documentElement.requestFullscreen) {
              document.documentElement.requestFullscreen().catch(()=>{});
            }
            showExitIcon();
          }

          function exitFullscreen() {
            if (!isFullscreen) return;
            isFullscreen = false;
            if (document.fullscreenElement) {
              document.exitFullscreen().catch(()=>{});
            }
            showEnterIcon();
          }

          readingListBox.addEventListener('click', () => {
            if (!isFullscreen) enterFullscreen();
            else exitFullscreen();
          });

          fullscreenExit.addEventListener('click', (e) => {
            e.stopPropagation();
            exitFullscreen();
          });

          document.addEventListener('fullscreenchange', () => {
            if (document.fullscreenElement === document.documentElement) {
              isFullscreen = true;
              showExitIcon();
            } else {
              isFullscreen = false;
              showEnterIcon();
            }
          });
        })();

        /* ========= Timer module (isolated) ========= */
        (function TimerModule() {
          // Elements
          const profileCard = document.querySelector('.glass-card.p-8.mb-8.text-center');
          // fallback: if selector changed, pick the first glass-card with profile-like structure
          const fallbackProfileCard = document.querySelector('.glass-card.p-8') || document.querySelector('.glass-card');
          const card = profileCard || fallbackProfileCard;
          if (!card) return;

          const timerContainer = document.getElementById('timer-container');
          const timerDisplay = document.getElementById('timer-display');
          const startPauseBtn = document.getElementById('start-pause-btn');
          const resetBtn = document.getElementById('reset-btn');
          const children = Array.from(card.children).filter(ch => ch.id !== 'timer-container');

          const INITIAL_SECONDS = 30 * 60;
          let remaining = INITIAL_SECONDS;
          let timerInterval = null;
          let running = false;
          let showingTimer = false;

          // audio element from HTML
          const audioEl = document.getElementById('bg-music');
          if (audioEl) {
            audioEl.loop = true;
            audioEl.volume = 0.6;
          }

          function formatTime(sec) {
            const m = Math.floor(sec / 60).toString().padStart(2, '0');
            const s = Math.floor(sec % 60).toString().padStart(2, '0');
            return `${m}:${s}`;
          }

          function renderTimer() {
            timerDisplay.textContent = formatTime(remaining);
          }

          // Notification helper
          function ensureNotificationPermission() {
            if (!('Notification' in window)) return Promise.resolve('unsupported');
            if (Notification.permission === 'granted') return Promise.resolve('granted');
            if (Notification.permission === 'denied') return Promise.resolve('denied');
            return Notification.requestPermission();
          }

          function showNotification() {
            ensureNotificationPermission().then((perm) => {
              if (perm === 'granted') {
                try {
                  new Notification("‚è∞ H·∫øt gi·ªù r·ªìi!", {
                    body: "ƒê·∫øm ng∆∞·ª£c ƒë√£ k·∫øt th√∫c. H√£y quay l·∫°i trang ƒë·ªÉ xem k·∫øt qu·∫£!",
                    icon: "https://cdn-icons-png.flaticon.com/512/992/992700.png"
                  });
                } catch (err) {
                  // fallback
                  alert('ƒê·∫øm ng∆∞·ª£c k·∫øt th√∫c!');
                }
              } else {
                alert('ƒê·∫øm ng∆∞·ª£c k·∫øt th√∫c!');
              }
            });
          }

          function startTimer() {
            if (running) return;
            running = true;
            startPauseBtn.innerHTML = '<i data-feather="pause"></i>';
            feather.replace();

            // Play music: user gesture required in many browsers ‚Äî this function is usually called after click
            try {
              if (audioEl) {
                const playPromise = audioEl.play();
                if (playPromise && typeof playPromise.then === 'function') {
                  playPromise.catch(err => {
                    // autoplay blocked; user must interact ‚Äî ignore
                    console.warn('Autoplay blocked or failed:', err);
                  });
                }
              }
            } catch (err) {
              console.warn('Audio play error:', err);
            }

            timerInterval = setInterval(() => {
              if (remaining > 0) {
                remaining--;
                renderTimer();
              } else {
                clearInterval(timerInterval);
                timerInterval = null;
                running = false;
                startPauseBtn.innerHTML = '<i data-feather="play"></i>';
                feather.replace();
                // stop music
                if (audioEl) {
                  try {
                    audioEl.pause();
                    audioEl.currentTime = 0;
                  } catch (e) {}
                }
                // show notification
                showNotification();
              }
            }, 1000);
          }

          function pauseTimer() {
            if (!running) return;
            running = false;
            clearInterval(timerInterval);
            timerInterval = null;
            startPauseBtn.innerHTML = '<i data-feather="play"></i>';
            feather.replace();
            if (audioEl) {
              try {
                audioEl.pause();
              } catch (e) {}
            }
          }

          function resetTimer() {
            pauseTimer();
            remaining = INITIAL_SECONDS;
            renderTimer();
          }

          // show/hide timer view
          function showTimerView() {
            if (showingTimer) return;
            children.forEach(ch => ch.style.display = 'none');
            timerContainer.classList.remove('timer-hidden');
            timerContainer.classList.add('timer-transition', 'timer-hide');
            setTimeout(() => {
              timerContainer.classList.replace('timer-hide', 'timer-show');
            }, 10);
            showingTimer = true;
            renderTimer();
            feather.replace();
          }

          function hideTimerView() {
            if (!showingTimer) return;
            timerContainer.classList.replace('timer-show', 'timer-hide');
            setTimeout(() => {
              timerContainer.classList.add('timer-hidden');
              children.forEach(ch => (ch.style.display = ''));
            }, 500);
            showingTimer = false;
          }

          function toggleTimerView() {
            if (showingTimer) hideTimerView();
            else showTimerView();
          }

          // Wire buttons
          startPauseBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if (running) pauseTimer();
            else startTimer();
          });

          resetBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            resetTimer();
          });

          // initial render
          renderTimer();
          feather.replace();

          // touch / swipe to toggle timer view
          let touchStartX = null, touchStartY = null;
          const THRESHOLD = 40;

          function handleSwipe(dx, dy) {
            if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > THRESHOLD) toggleTimerView();
          }

          [card, timerContainer].forEach(el => {
            el.addEventListener('touchstart', (e) => {
              const t = e.touches[0];
              touchStartX = t.clientX;
              touchStartY = t.clientY;
            }, { passive: true });

            el.addEventListener('touchend', (e) => {
              if (touchStartX === null) return;
              const t = e.changedTouches[0];
              handleSwipe(t.clientX - touchStartX, t.clientY - touchStartY);
              touchStartX = null;
              touchStartY = null;
            }, { passive: true });
          });

          // mouse drag as swipe
          let mouseDown = false;
          let mouseStartX = 0;

          [card, timerContainer].forEach(el => {
            el.addEventListener('mousedown', (e) => {
              mouseDown = true;
              mouseStartX = e.clientX;
            });
          });

          window.addEventListener('mouseup', (e) => {
            if (!mouseDown) return;
            mouseDown = false;
            const dx = e.clientX - mouseStartX;
            if (Math.abs(dx) > THRESHOLD) toggleTimerView();
          });

          // double click toggles
          card.addEventListener('dblclick', toggleTimerView);
          timerContainer.addEventListener('dblclick', toggleTimerView);

          // save cleanup on unload
          window.addEventListener('beforeunload', () => {
            timerInterval && clearInterval(timerInterval);
          });

          // expose start/hide for compatibility if other code calls them (safe)
          window.__neChanneeTimer = {
            start: startTimer,
            pause: pauseTimer,
            reset: resetTimer,
            show: showTimerView,
            hide: hideTimerView
          };
        })();

        /* ========= Arrow hints (show a few times, then remove) ========= */
        (function () {
          const arrowLeft = document.getElementById('arrow-left');
          const arrowRight = document.getElementById('arrow-right');
          if (!arrowLeft || !arrowRight) return;
          let arrowShowCount = 0;
          let arrowInterval;
          function showArrowsRepeatedly() {
            arrowShowCount = 0;
            clearInterval(arrowInterval);
            arrowInterval = setInterval(() => {
              if (arrowShowCount >= 5) {
                arrowLeft.remove();
                arrowRight.remove();
                clearInterval(arrowInterval);
                return;
              }
              arrowShowCount++;
              arrowLeft.classList.add('show');
              arrowRight.classList.add('show');
              setTimeout(() => {
                arrowLeft.classList.remove('show');
                arrowRight.classList.remove('show');
              }, 2000);
            }, 5000);
          }
          showArrowsRepeatedly();
        })();

        /* ========= Music control helpers (in case needed elsewhere) ========= */
        window.neChanneeAudio = (function () {
          const audioEl = document.getElementById('bg-music');
          return {
            play() {
              if (!audioEl) return;
              try {
                const p = audioEl.play();
                if (p && typeof p.then === 'function') p.catch(()=>{});
              } catch (e) {}
            },
            pause() {
              if (!audioEl) return;
              try { audioEl.pause(); } catch (e) {}
            },
            stop() {
              if (!audioEl) return;
              try { audioEl.pause(); audioEl.currentTime = 0; } catch (e) {}
            }
          };
        })();

        /* ========= Request notification permission early (non-blocking) ========= */
        if ('Notification' in window) {
          try {
            // request politely but allow browser to decide; do not spam user
            if (Notification.permission === 'default') {
              Notification.requestPermission().then(p => {
                // no-op; just log
                console.log('Notification permission:', p);
              });
            }
          } catch (e) {
            // ignore
          }
        }
      })();
    </script>
  </body>
</html>
